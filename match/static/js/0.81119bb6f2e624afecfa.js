webpackJsonp([0],{"1GTc":function(t,e,i){var n=i("MITN");n(n.S+n.F,"Object",{assign:i("nBsG")})},"4YfN":function(t,e,i){"use strict";e.__esModule=!0;var n,a=i("aA9S"),s=(n=a)&&n.__esModule?n:{default:n};e.default=s.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}},"6vn9":function(t,e,i){"use strict";String,String,String,String,Boolean;var n={props:{leftIcon:{type:String,default:"icon-fanhui"},titleIcon:{type:String,default:""},title:{type:String,default:"比赛设置"},rightText:{type:String,default:""},rightIcon:{type:Boolean,default:!1}},data:function(){return{}},methods:{back:function(){this.$emit("back")},titleClick:function(){this.$emit("titleClick")},goNext:function(){this.$emit("goNext")}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-header",attrs:{id:"mHeader"}},[i("span",{staticClass:"bgBack",on:{click:t.back}},[i("em"),i("b",[t._v("返回")])]),t._v(" "),i("p",{on:{click:t.titleClick}},[t.titleIcon?i("b"):t._e(),t._v(t._s(t.title))]),t._v(" "),i("i",{class:{rightIcon:t.rightIcon},on:{click:t.goNext}},[t._v(t._s(t.rightText))])])},staticRenderFns:[]};var s=i("Z0/y")(n,a,!1,function(t){i("xye3")},"data-v-923db592",null);e.a=s.exports},AyDw:function(t,e,i){"use strict";Array,String,Number;var n={props:{switches:{type:Array,default:[]},swHeight:{type:String,default:"46px"},currentIndex:{type:Number,default:0}},methods:{selectItem:function(t,e){this.$emit("select",t,e)}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.switches.length?i("ul",{staticClass:"switches",style:{height:t.swHeight}},t._l(t.switches,function(e,n){return i("li",{key:e,staticClass:"switch-item",class:{active:n===t.currentIndex},on:{click:function(i){t.selectItem(e,n)}}},[i("span",[t._v(t._s(e))])])})):t._e()},staticRenderFns:[]};var s=i("Z0/y")(n,a,!1,function(t){i("r/YP")},"data-v-45986fbe",null);e.a=s.exports},"B+Mb":function(t,e){},"F4+m":function(t,e,i){"use strict";i.d(e,"c",function(){return u}),i.d(e,"a",function(){return h}),i.d(e,"b",function(){return l});var n=i("4YfN"),a=i.n(n),s=i("9rMa"),r=i("hhm8"),c=i("W/7t"),o=i("Kf/3"),u={computed:a()({},Object(s.c)(["radio1","radio2","itemPlayer1","itemPlayer2","operationRec","player_data","itemName","matchStartTime"])),mounted:function(){},created:function(){this.filterData()},activated:function(){},watch:{operationRec:function(t,e){this.filterData()}},methods:a()({setPlayerData:function(t,e){if(e.playerId)var i=e.playerId;else i="other"+e.itemType;var n=e.type;t[i]||(t[i]={});var a=t[i][n]||0;t[i][n]="score"!=n?a+1:a+e.score},filterData:function(){for(var t=0,e=0,i=0,n=0,a=0,s=0,r={},c=this.operationRec,o=0;o<c.length;o++){var u=c[o];this.setPlayerData(r,u),1==u.itemType&&("pause"==u.type?t++:"score"==u.type?i+=u.score:"foul"==u.type&&a++),2==u.itemType&&("pause"==u.type?e++:"score"==u.type?n+=u.score:"foul"==u.type&&s++)}this.pauseNum1=t,this.pauseNum2=e,this.score1=i,this.score2=n,this.foul1=a,this.foul2=s,this.set_player_data(r)}},Object(s.d)({set_player_data:"SET_PLAYER_DATA"}))},h={data:function(){return{toastShow:!1,toastText:"",confirmText:"数据上传成功，是否结束比赛？",addText:"",timer:null,nowMatchTime:"0",formatTime:r.e,selActive:"",itemColor:c.a,sectionArr:c.e}},computed:a()({operRecLast:function(){var t=this.operationRec.length;return this.operationRec[t-1]||""}},Object(s.c)(["matchTime","section","matchStatus"])),created:function(){this.nowMatchTime=this.matchTime[this.section]||0;var t=Object(r.c)(this.itemPlayer1,"lineUp",!0).length,e=Object(r.c)(this.itemPlayer2,"lineUp",!0).length;0!=t&&0!=e||this.$router.push({path:"/matchSett"})},methods:a()({changeSection:function(t){if(!(t<=0||t>=6)){1==this.matchStatus&&this.pause(),this.setSection(t);var e=this.matchTime[this.section];e||0===e||(this.nowMatchTime=0,this.addOneRec({operation:"开始比赛",type:"start"})),this.nowMatchTime=e||0;var i=Object(r.a)(this.matchTime);i[this.section]=this.nowMatchTime,this.saveMatchTime(i)}},nextSection:function(){var t=this.section+1;this.changeSection(t)},preSection:function(){var t=this.section-1;this.changeSection(t)},start:function(){var t=this;if(!this.timer||1!=this.matchStatus){if(this.setMatchStatus(1),clearInterval(this.timer),this.nowMatchTime>=60*c.b)return this.toastShow=!0,this.toastText="请进入下节比赛",void this.setMatchStatus(0);this.nowMatchTime=this.matchTime[this.section]+.1||0;var e=Object(r.a)(this.matchTime);e[this.section]=this.nowMatchTime,this.saveMatchTime(e),this.timer=setInterval(function(){t.nowMatchTime++},1e3)}},pause:function(){if(0!=this.matchStatus){this.setMatchStatus(0);var t=Object(r.a)(this.matchTime);t[this.section]=this.nowMatchTime,this.saveMatchTime(t),clearInterval(this.timer)}},configAdd:function(t){var e=this.$refs.name.value,i=this.$refs.playerNum.value+"";if(e&&i)if(this.$refs.addLayer.hide(),this.$refs.name.value="",this.$refs.playerNum.value="",1==t){var n={exist:!0,lineUp:!0,name:e,num:i};this.addPlayerAct(n)}else{n={exist:!0,lineUp:!0,name:e,num:i};this.addPlayerAct2(n)}},timeClick:function(){if(1!=this.section||this.nowMatchTime)this.matchStatus?this.pause():this.start();else{if(!this.selActive)return void this.$vux.toast.text("请选择球队开始比赛");this.start();var t=this.selActive.split("-")[0],e=this.itemName[t-1];this.addOneRec({itemName:e,operation:"开始比赛",type:"start",itemType:t})}},addOneRec:function(t){this.nowMatchTime>=60*c.b||(t.section=this.section,t.time=this.nowMatchTime,t.matchStartTime=this.matchStartTime,this.savOperRec(t))},showAddLyer:function(t){this.$refs.addLayer.show(t)},upData:function(){this.$refs.layer.hide(),this.$router.push({path:"/matchSett"})},goNext:function(){this.$refs.layer.show()},back:function(){window.history.length?this.$router.go(-1):this.$router.push({path:"/matchSett"})}},Object(s.d)({setMatchTime:"SET_MATCHTIME",setMatchStatus:"SET_MATCHSTATUS",setSection:"SET_SECTION"}),Object(s.b)(["addPlayerAct","addPlayerAct2","saveMatchTime","savOperRec"])),beforeDestroy:function(){this.pause()},watch:{nowMatchTime:function(){this.nowMatchTime>=60*c.b&&(this.pause(),this.addOneRec({operation:"第"+this.section+"节比赛结束",type:"end"}));var t=Object(o.d)("matchTime",{});t[this.section]=Math.floor(this.nowMatchTime),Object(o.k)("matchTime",t)}}},l={data:function(){return{record:"操作记录",showFlag:!0,rightIcon:"",itemColor:c.a,sectionArr:c.e,operRecTab:["全部","得分","犯规"],currentIndex:0,formatTime:r.e,scrollToEndFlag:!1}},computed:a()({},Object(s.c)(["radio1","radio2","operationRec"]),{operRec:function(){var t=this.operationRec.slice();return t.sort(function(t,e){return(e.section-1)*c.b*60+e.time-((t.section-1)*c.b*60+t.time)}),t},scoreOperRec:function(){for(var t=this.operationRec,e=[],i=0;i<t.length;i++)"score"!=t[i].type&&"start"!=t[i].type&&"end"!=t[i].type||e.push(t[i]);return e.sort(function(t,e){return(e.section-1)*c.b*60+e.time-((t.section-1)*c.b*60+t.time)}),e},foulOperRec:function(){for(var t=this.operationRec,e=[],i=0;i<t.length;i++)"foul"!=t[i].type&&"start"!=t[i].type&&"end"!=t[i].type||e.push(t[i]);return e.sort(function(t,e){return(e.section-1)*c.b*60+e.time-((t.section-1)*c.b*60+t.time)}),e}}),methods:a()({deleOperRec:function(t){this.deleOneOperRec(t)},selectItem:function(t,e){this.currentIndex=e}},Object(s.b)(["deleOneOperRec"]))}},"W/7t":function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a}),i.d(e,"e",function(){return s}),i.d(e,"c",function(){return r}),i.d(e,"d",function(){return c});var n=[{text:"深色",color:"#ff4646"},{text:"浅色",color:"#1656a5"}],a=5,s=["第一节","第二节","第三节","第四节","加时"],r=[[{name:"前场篮板",type:"offensive_rebounds"},{name:"助攻",type:"assists"},{name:"盖帽",type:"blocks"},{name:"抢断",type:"steals"}],[{name:"后场篮板",type:"defensive_rebounds"},{name:"2分命中",type:"score",score:2},{name:"3分命中",type:"score",score:3},{name:"罚球命中",type:"score",score:1}],[{name:"犯规",type:"foul",foul:"犯规",foulDet:[{name:"技术犯规",type:"foul",foul:"foul-1"},{name:"违体",type:"foul",foul:"foul-2"},{name:"夺权",type:"foul",foul:"foul-3"}]},{name:"2分不中",type:"two_points_lose"},{name:"3分不中",type:"three_points_lose"},{name:"罚球不中",type:"free_throws_lose"}],[{name:"暂停",type:"pause",pause:"pause",pauseDet:[{name:"暂停",time:"30s",type:"pause",pause:"pause-1"},{name:"暂停",time:"60s",type:"pause",pause:"pause-2"},{name:"暂停",time:"90s",type:"pause",pause:"pause-3"}]},{name:"失误",type:"turnovers"}]],c=[{name:"2分命中",type:"score",score:2},{name:"3分命中",type:"score",score:3},{name:"罚球命中",type:"score",score:1},{name:"犯规",type:"foul",foul:"犯规"},{name:"暂停",type:"pause",pause:"pause"}]},YwFF:function(t,e,i){i("1GTc"),t.exports=i("UusJ").Object.assign},aA9S:function(t,e,i){t.exports={default:i("YwFF"),__esModule:!0}},hhm8:function(t,e,i){"use strict";function n(t){return("00"+t).substr(t.length)}e.a=function(t){var e={};for(var i in t)e[i]=t[i];return e},e.b=function(t,e){var i=void 0;return function(){for(var n=this,a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];i&&clearTimeout(i),i=setTimeout(function(){t.apply(n,s)},e)}},e.d=function(t,e){/(Y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":t.getMonth()+1,"D+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var a in i)if(new RegExp("("+a+")").test(e)){var s=i[a]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?s:n(s))}return e},e.e=function(t){var e=parseInt(t/60),i=Math.floor(t%60);return(e>=10?e+"":"0"+e)+":"+(i>=10?i+"":"0"+i)},e.c=function(t,e,i){for(var n=[],a=0;a<t.length;a++)t[a][e]==i&&n.push(t[a]);return n}},nBsG:function(t,e,i){"use strict";var n=i("OtAM"),a=i("/a/u"),s=i("K0/C"),r=i("NUpW"),c=i("esCQ"),o=Object.assign;t.exports=!o||i("xVzf")(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=o({},t)[i]||Object.keys(o({},e)).join("")!=n})?function(t,e){for(var i=r(t),o=arguments.length,u=1,h=a.f,l=s.f;o>u;)for(var f,p=c(arguments[u++]),m=h?n(p).concat(h(p)):n(p),d=m.length,y=0;d>y;)l.call(p,f=m[y++])&&(i[f]=p[f]);return i}:o},"r/YP":function(t,e){},srVq:function(t,e,i){"use strict";String,Boolean,Boolean,String,String;var n={props:{text:{type:String,default:""},layerType:{type:Boolean,default:!0},NoPadd:{type:Boolean,default:!1},cancelBtnText:{type:String,default:"取消"},confirmBtnText:{type:String,default:"确定"}},data:function(){return{showFlag:!1}},methods:{show:function(t){this.type=t,this.showFlag=!0},hide:function(){this.showFlag=!1},cancel:function(){this.showFlag=!1,this.$emit("cancel")},confirm:function(){this.$emit("confirm",this.type)}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"layer-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"layer",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"layer-wrapper"},[i("div",{staticClass:"layer-content"},[t.text?i("div",{staticClass:"text"},[t._v("\n          "+t._s(t.text)+"\n        ")]):i("div",{staticClass:"text",class:{slot:!t.layerType||t.NoPadd}},[t._t("default")],2),t._v(" "),t.layerType?i("div",{staticClass:"operate"},[i("div",{staticClass:"operate-btn left",on:{click:t.cancel}},[t._v(t._s(t.cancelBtnText))]),t._v(" "),i("div",{staticClass:"operate-btn",on:{click:t.confirm}},[t._v(t._s(t.confirmBtnText))])]):t._e()])])])])},staticRenderFns:[]};var s=i("Z0/y")(n,a,!1,function(t){i("B+Mb")},"data-v-ebef8ea6",null);e.a=s.exports},xye3:function(t,e){}});